2025-05-03T09:46:05.774Z | ERROR | Error in update-profile | Data: {"error":"Cannot read properties of null (reading 'message')","stack":"TypeError: Cannot read properties of null (reading 'message')\n    at LoggerService.handleError (D:\\node-js\\messanger-chat\\services\\Logger\\LoggerServices.js:64:58)\n    at updateProfile (D:\\node-js\\messanger-chat\\controller\\Auth\\UserController.js:43:16)\n    at Layer.handleRequest (D:\\node-js\\messanger-chat\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\node-js\\messanger-chat\\node_modules\\router\\lib\\route.js:157:13)\n    at handelErrorValidate (D:\\node-js\\messanger-chat\\Helpier\\errorValidate.js:14:5)\n    at Layer.handleRequest (D:\\node-js\\messanger-chat\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\node-js\\messanger-chat\\node_modules\\router\\lib\\route.js:157:13)\n    at middleware (D:\\node-js\\messanger-chat\\node_modules\\express-validator\\lib\\middlewares\\check.js:16:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"}
2025-05-03T09:46:47.062Z | INFO | update-profile
2025-05-03T09:47:18.163Z | INFO | update-profile | Data: {"name":"abdallah zain","phone":"01205389327"}
2025-05-03T09:48:37.307Z | INFO | update-profile | Data: {"fieldname":"avatar","originalname":"image.jpeg","encoding":"7bit","mimetype":"image/jpeg","destination":"D:\\node-js\\messanger-chat\\storage\\uploads","filename":"avatar-1746265717297-80728363.jpeg","path":"D:\\node-js\\messanger-chat\\storage\\uploads\\avatar-1746265717297-80728363.jpeg","size":182562}
2025-05-03T10:05:16.273Z | ERROR | Error in update-profile | Data: {"error":"path is not defined","stack":"ReferenceError: path is not defined\n    at updateProfile (D:\\node-js\\messanger-chat\\controller\\Auth\\UserController.js:42:39)\n    at Layer.handleRequest (D:\\node-js\\messanger-chat\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\node-js\\messanger-chat\\node_modules\\router\\lib\\route.js:157:13)\n    at handelErrorValidate (D:\\node-js\\messanger-chat\\Helpier\\errorValidate.js:14:5)\n    at Layer.handleRequest (D:\\node-js\\messanger-chat\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\node-js\\messanger-chat\\node_modules\\router\\lib\\route.js:157:13)\n    at middleware (D:\\node-js\\messanger-chat\\node_modules\\express-validator\\lib\\middlewares\\check.js:16:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"}
2025-05-03T10:25:37.759Z | ERROR | Error in update-profile | Data: {"error":"deleteImageIfExists is not a function","stack":"TypeError: deleteImageIfExists is not a function\n    at updateProfile (D:\\node-js\\messanger-chat\\controller\\Auth\\UserController.js:46:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"}
2025-05-05T06:39:53.779Z | ERROR | Error in conversations | Data: {"error":"authUser is not defined","stack":"ReferenceError: authUser is not defined\n    at conversations (/home/masarat/node-js/messanger-chat/controller/Chat/ChatController.js:12:30)\n    at Layer.handleRequest (/home/masarat/node-js/messanger-chat/node_modules/router/lib/layer.js:152:17)\n    at next (/home/masarat/node-js/messanger-chat/node_modules/router/lib/route.js:157:13)\n    at handelErrorValidate (/home/masarat/node-js/messanger-chat/Helpier/errorValidate.js:14:5)\n    at Layer.handleRequest (/home/masarat/node-js/messanger-chat/node_modules/router/lib/layer.js:152:17)\n    at next (/home/masarat/node-js/messanger-chat/node_modules/router/lib/route.js:157:13)\n    at middleware (/home/masarat/node-js/messanger-chat/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"}
2025-05-05T06:57:39.377Z | ERROR | Error in send-message | Data: {"error":"Cannot read properties of null (reading 'avatar')","stack":"TypeError: Cannot read properties of null (reading 'avatar')\n    at userResource (/home/masarat/node-js/messanger-chat/resource/UserResource.js:4:29)\n    at MessageResource (/home/masarat/node-js/messanger-chat/resource/MessageResource.js:9:18)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async sendMessage (/home/masarat/node-js/messanger-chat/controller/Chat/ChatController.js:83:44)"}
2025-05-05T07:01:42.910Z | ERROR | Error in send-message | Data: {"error":"Cannot read properties of null (reading '_id')","stack":"TypeError: Cannot read properties of null (reading '_id')\n    at userResource (/home/masarat/node-js/messanger-chat/resource/UserResource.js:6:17)\n    at MessageResource (/home/masarat/node-js/messanger-chat/resource/MessageResource.js:9:18)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async sendMessage (/home/masarat/node-js/messanger-chat/controller/Chat/ChatController.js:83:44)"}
2025-05-05T07:07:36.821Z | ERROR | Error in send-message | Data: {"error":"Cannot read properties of null (reading 'avatar')","stack":"TypeError: Cannot read properties of null (reading 'avatar')\n    at userResource (/home/masarat/node-js/messanger-chat/resource/UserResource.js:4:29)\n    at MessageResource (/home/masarat/node-js/messanger-chat/resource/MessageResource.js:11:18)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async sendMessage (/home/masarat/node-js/messanger-chat/controller/Chat/ChatController.js:90:44)"}
2025-05-05T07:08:17.086Z | ERROR | Error in send-message | Data: {"error":"Cannot read properties of null (reading 'avatar')","stack":"TypeError: Cannot read properties of null (reading 'avatar')\n    at userResource (/home/masarat/node-js/messanger-chat/resource/UserResource.js:4:29)\n    at MessageResource (/home/masarat/node-js/messanger-chat/resource/MessageResource.js:11:24)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async sendMessage (/home/masarat/node-js/messanger-chat/controller/Chat/ChatController.js:90:44)"}
2025-05-05T07:14:59.117Z | ERROR | Error in messages | Data: {"error":"Cannot read properties of null (reading 'avatar')","stack":"TypeError: Cannot read properties of null (reading 'avatar')\n    at userResource (/home/masarat/node-js/messanger-chat/resource/UserResource.js:5:29)\n    at MessageResource (/home/masarat/node-js/messanger-chat/resource/MessageResource.js:11:24)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 6)\n    at async messages (/home/masarat/node-js/messanger-chat/controller/Chat/ChatController.js:105:46)"}
2025-05-05T07:18:02.067Z | ERROR | Error in messages | Data: {"error":"Cannot read properties of null (reading 'avatar')","stack":"TypeError: Cannot read properties of null (reading 'avatar')\n    at userResource (/home/masarat/node-js/messanger-chat/resource/UserResource.js:5:29)\n    at MessageResource (/home/masarat/node-js/messanger-chat/resource/MessageResource.js:11:24)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 6)\n    at async messages (/home/masarat/node-js/messanger-chat/controller/Chat/ChatController.js:105:46)"}
2025-05-05T09:06:02.641Z | ERROR | Error in conversations | Data: {"error":"conversations.map is not a function","stack":"TypeError: conversations.map is not a function\n    at ConversationCollectionResource (/home/masarat/node-js/messanger-chat/resource/ConversationResource.js:18:38)\n    at conversations (/home/masarat/node-js/messanger-chat/controller/Chat/ChatController.js:23:36)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"}
2025-05-05T09:16:58.439Z | ERROR | Error in conversations | Data: {"error":"conversations.map is not a function","stack":"TypeError: conversations.map is not a function\n    at ConversationCollectionResource (/home/masarat/node-js/messanger-chat/resource/ConversationResource.js:18:38)\n    at conversations (/home/masarat/node-js/messanger-chat/controller/Chat/ChatController.js:24:36)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"}
2025-05-05T09:20:16.029Z | ERROR | Error in messages | Data: {"error":"Message.paginate(...).sort is not a function","stack":"TypeError: Message.paginate(...).sort is not a function\n    at messages (/home/masarat/node-js/messanger-chat/controller/Chat/ChatController.js:130:94)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"}
2025-05-06T11:28:37.874Z | ERROR | Error in start-conversation | Data: {"error":"Message.save is not a function","stack":"TypeError: Message.save is not a function\n    at startConversation (/home/masarat/node-js/messanger-chat/controller/Chat/ChatController.js:69:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"}
